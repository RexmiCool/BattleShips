@page "/test"
@inject BattleShipService.BattleShipServiceClient battleShipServiceClient

<h3>Test GRPC</h3>

<input @bind="messageToSend" placeholder="Entrez un message" />
<button @onclick="SendMessage">Envoyer</button>

<p>@responseMessage</p>

@code {
    private string messageToSend;
    private string responseMessage;

    private async Task SendMessage()
    {
        // Créer une instance de DisplayRequestGRPC
        var request = new DisplayRequestGRPC { Todisplay = messageToSend };

        // Appeler le service gRPC
        var response = await battleShipServiceClient.DisplayMessageAsync(request);
        responseMessage = response.Displayed; // Récupérer le message de réponse
    }
}
